(this["webpackJsonpanitrack-refresh"]=this["webpackJsonpanitrack-refresh"]||[]).push([[1],{113:function(e,t,n){},114:function(e,t,n){},119:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},154:function(e,t){},172:function(e,t,n){},173:function(e,t,n){},174:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){},199:function(e,t,n){},200:function(e,t,n){},201:function(e,t,n){"use strict";n.r(t);var s=n(3),c=n(91),a=n(13),i=n(29),r=Object(i.b)({name:"auth",initialState:{user_id:"",access_token:"",expires_at:0,email:""},reducers:{login:function(e,t){e.access_token=t.payload.access_token,e.user_id=t.payload.user_id,e.email=t.payload.email},logout:function(e){e.access_token="",e.user_id=""}}}),o=r.actions,l=o.login,j=o.logout,d=r.reducer,u=Object(i.b)({name:"message",initialState:{message:"",status:"",link:""},reducers:{showMessage:function(e,t){e.message=t.payload.message,e.status=t.payload.status,e.link=t.payload.link},hideMessage:function(e,t){e.message="",e.status="",e.link=""}}}),b=u.actions,h=b.showMessage,m=b.hideMessage,O=u.reducer,x=Object(i.b)({name:"show",initialState:{showinfo:{}},reducers:{setShowInfo:function(e,t){e.showinfo=t.payload.showinfo}}}),g=x.actions.setShowInfo,p=x.reducer,f=Object(i.a)({reducer:{auth:d,message:O,show:p}}),v=n(14),N=n(8),w=(n(113),n(2)),y=n(38),S=n(7),_=(n(114),n(67)),k=Object(_.a)("https://bvdfbzafkqrigsrqsvul.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ2ZGZiemFma3FyaWdzcnFzdnVsIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NTc4NjU0NDQsImV4cCI6MTk3MzQ0MTQ0NH0.r8wEKoUqgiDbwMGqcrvF53gsFan0pWoaD8LCfKztDVQ"),I=n(0),C=function(e){var t=Object(s.useRef)(),n=Object(s.useRef)(),c=Object(s.useState)(!0),i=Object(S.a)(c,2),r=i[0],o=i[1],j=Object(s.useState)(!0),d=Object(S.a)(j,2),u=d[0],b=d[1],O=Object(v.b)(),x=Object(N.f)();return Object(I.jsxs)("form",{onSubmit:function(e){e.preventDefault();var s=t.current.value,c=n.current.value,a=s.length>0,i=c.length>0;if(o(!!a),b(!!i),a&&i){var r=function(){var e=Object(y.a)(Object(w.a)().mark((function e(){var t,n,a,i;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.auth.signIn({email:s,password:c});case 2:t=e.sent,n=t.user,a=t.session,(i=t.error)?(console.log(i),O(h({message:"Invalid username or password. No Account? Click Here to Sign Up",status:"error",link:"/sign-up"})),setTimeout((function(){O(m())}),3e3)):(O(l({user_id:n.user_id,access_token:a.access_token,email:n.email})),O(h({message:"Welcome ".concat(s),status:"success"})),setTimeout((function(){O(m())}),3e3),x("/dashboard",{replace:!0}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r()}},className:"login-form",children:[Object(I.jsx)("h1",{children:"Login"}),Object(I.jsxs)("div",{className:r?"form-control":"form-control invalid",children:[Object(I.jsx)("label",{htmlFor:"email",children:"Email"}),Object(I.jsx)("input",{ref:t,type:"email",id:"email",name:"email"})]}),Object(I.jsxs)("div",{className:u?"form-control":"form-control invalid",children:[Object(I.jsx)("label",{htmlFor:"password",children:"Password"}),Object(I.jsx)("input",{ref:n,type:"password",id:"password",name:"password"})]}),Object(I.jsxs)("div",{className:"login-links",children:[Object(I.jsx)(a.b,{to:"/sign-up",children:"Sign Up"}),Object(I.jsx)(a.b,{to:"#",children:"Forgot Password"})]}),Object(I.jsx)("button",{type:"submit",className:"login-submit",children:"Sign In"})]})},P=(n(41),n(119),n(11)),A=n(10),D=function(e){return Object(I.jsx)("div",{className:"login-details",children:Object(I.jsxs)("ul",{children:[Object(I.jsxs)("li",{children:[Object(I.jsx)(P.a,{icon:A.t,size:"2x",className:"list-icon"}),Object(I.jsx)("p",{children:"Track Your Favorite Shows"})]}),Object(I.jsxs)("li",{children:[Object(I.jsx)(P.a,{icon:A.f,size:"2x",className:"list-icon"}),Object(I.jsx)("p",{children:"Find and track discussions across the web"})]}),Object(I.jsxs)("li",{children:[Object(I.jsx)(P.a,{icon:A.p,size:"2x",className:"list-icon"}),Object(I.jsx)("p",{children:"Get instant recommendations"})]}),Object(I.jsxs)("li",{children:[Object(I.jsx)(P.a,{icon:A.m,size:"2x",className:"list-icon"}),Object(I.jsx)("p",{children:"Browse and track your favourite songs"})]})]})})},M=function(e){return Object(I.jsxs)("div",{className:"login-page",children:[Object(I.jsx)(D,{}),Object(I.jsx)(C,{})]})},z=(n(122),function(e){var t,n=e.show;return Object(I.jsxs)("div",{className:"show-pic",children:[Object(I.jsx)("img",{src:n.coverImage.large}),Object(I.jsx)("div",{className:"show-icon",children:Object(I.jsx)(P.a,{icon:"ANIME"===n.type?A.t:A.a,size:"xl",className:"list-icon"})}),Object(I.jsx)(a.b,{to:"/detail/".concat(n.id)}),Object(I.jsx)("div",{className:"title",children:Object(I.jsx)("p",{children:null!==(t=n.title.english)&&void 0!==t?t:n.title.romaji})})]})}),E=(n(123),function(e){var t=Object(s.useState)(1),n=Object(S.a)(t,2),c=n[0],a=n[1],i=e.perPage,r=e.numItems,o=[(c-1)*i,c*i-1],l=Math.ceil(r/i),j=function(e){if("First"===e.target.innerText)a((function(e){return 1}));else if("Last"===e.target.innerText)a((function(e){return l}));else{var t=+e.target.innerText;a((function(e){return t}))}};Object(s.useEffect)((function(){e.numItems>0&&e.onPageChange(o[0],o[1]+1)}),[c]),Object(s.useEffect)((function(){a(1)}),[e.numItems]);return l>1?Object(I.jsxs)("div",{className:"pagination",children:[Object(I.jsx)("button",{className:"page",onClick:j,children:"First"}),c===l&&l>2?Object(I.jsx)("button",{className:"page",onClick:j,children:c-2}):"",c>1?Object(I.jsx)("button",{className:"page",onClick:j,children:c-1}):"",Object(I.jsx)("button",{className:"page page-selected",onClick:j,children:c}),c<l?Object(I.jsx)("button",{className:"page",onClick:j,children:c+1}):"",1===c&&l>=3?Object(I.jsx)("button",{className:"page",onClick:j,children:c+2}):"",Object(I.jsx)("button",{className:"page",onClick:j,children:"Last"})]}):""});n(124);function T(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var F=function(e){var t=function(){var e=Object(s.useState)(T()),t=Object(S.a)(e,2),n=t[0],c=t[1];return Object(s.useEffect)((function(){function e(){c(T())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}(),n=(t.height,3);n=t.width<800?3:5;var c=Object(s.useState)(0),a=Object(S.a)(c,2),i=a[0],r=a[1],o=Object(s.useState)(n),l=Object(S.a)(o,2),j=l[0],d=l[1],u=Object(s.useState)(""),b=Object(S.a)(u,2),h=b[0],m=b[1],O=Object(s.useState)(e.shows),x=Object(S.a)(O,2),g=x[0],p=x[1];return Object(s.useEffect)((function(){p(e.shows)}),[e.shows]),Object(I.jsxs)("section",{children:[Object(I.jsxs)("div",{className:"sl-nav",children:[Object(I.jsxs)("div",{className:"sl-top",children:[Object(I.jsx)("h1",{children:"My Shows"}),Object(I.jsxs)("select",{name:"",id:"",className:"sl-select",onChange:function(t){"all"===t.target.value?p(e.shows):"watching"===t.target.value?p(e.shows.filter((function(e){return Math.max(e.chapters,e.episodes)>e.progress}))):"completed"===t.target.value&&p(e.shows.filter((function(e){return e.progress>Math.max(e.chapters,e.episodes)})))},children:[Object(I.jsx)("option",{value:"all",children:"All Shows"}),Object(I.jsx)("option",{value:"watching",children:"Watching"}),Object(I.jsx)("option",{value:"completed",children:"Completed"})]})]}),Object(I.jsxs)("div",{className:"sl-next",children:[Object(I.jsx)("input",{type:"text",className:"sl-search",placeholder:"Search Shows",value:h,onChange:function(t){var n=t.target.value.toLowerCase();m(n),p(e.shows.filter((function(e){var t,s,c,a,i,r;return(null===(t=e.title)||void 0===t||null===(s=t.english)||void 0===s||null===(c=s.toLowerCase())||void 0===c?void 0:c.includes(n))||(null===(a=e.title)||void 0===a||null===(i=a.romaji)||void 0===i||null===(r=i.toLowerCase())||void 0===r?void 0:r.includes(n))})))}}),Object(I.jsxs)("h4",{children:[g.length," shows"]})]})]}),Object(I.jsx)("div",{className:"sl-shows",children:g.slice(i,j).map((function(e){return Object(I.jsx)(z,{show:e},e.id)}))}),Object(I.jsx)(E,{perPage:n,numItems:g.length,onPageChange:function(e,t){r(e),d(t)}})]})},L=(n(125),function(e){var t,n,c,a,i=Object(s.useState)("anime"),r=Object(S.a)(i,2),o=r[0],l=r[1],j=Object(v.c)((function(e){return e.show.showinfo})),d=null===(t=e.anime)||void 0===t?void 0:t.reduce((function(e,t){return e+Math.min(j["key"+t.id].progress,t.episodes)}),0),u=null===(n=e.manga)||void 0===n?void 0:n.reduce((function(e,t){return e+j["key"+t.id].progress}),0),b=null===(c=e.anime)||void 0===c?void 0:c.reduce((function(e,t){return e+j["key"+t.id].progress*t.duration}),0),h=d,m="episodes watched";"manga"===o?(h=u,m="chapters read"):"time"===o?(h=Math.floor(+b/60),m="hours watched"):"favorited"===o&&(h=0,m="favorited shows");return Object(I.jsxs)("section",{className:"stats-box",children:[Object(I.jsxs)("div",{className:"stats-tr",children:[Object(I.jsx)("button",{onClick:function(){l("anime")},className:"anime"===o?"active":"",children:Object(I.jsx)(P.a,{icon:A.t,className:"list-icon"})}),Object(I.jsx)("button",{onClick:function(){l("manga")},className:"manga"===o?"active":"",children:Object(I.jsx)(P.a,{icon:A.a,className:"list-icon"})}),Object(I.jsx)("button",{onClick:function(){l("time")},className:"time"===o?"active":"",children:Object(I.jsx)(P.a,{icon:A.e,className:"list-icon"})}),Object(I.jsx)("button",{onClick:function(){l("favorited")},className:"favorited"===o?"active":"",children:Object(I.jsx)(P.a,{icon:A.i,className:"list-icon"})})]}),Object(I.jsx)("h1",{children:null!==(a=h)&&void 0!==a?a:0}),Object(I.jsx)("p",{children:m})]})}),q=(n(126),function(e){return Object(I.jsxs)("section",{className:"activity-list",children:[Object(I.jsx)("h1",{children:"Activity"}),Object(I.jsxs)("ul",{children:[Object(I.jsxs)("li",{children:[Object(I.jsx)("p",{children:'Completed "Now And Then, Here and There"'}),Object(I.jsx)("small",{children:"Date: 14 Jul 2022"})]}),Object(I.jsxs)("li",{children:[Object(I.jsx)("p",{children:'Watched episode 12 of "Non Non Biyori"'}),Object(I.jsx)("small",{children:"Date: 11 Jul 2021"})]}),Object(I.jsxs)("li",{children:[Object(I.jsx)("p",{children:'Watched episode 12 of "Non Non Biyori"'}),Object(I.jsx)("small",{children:"Date: 11 Jul 2021"})]})]})]})});var J=function(){return function(e,t){var n="",s="perPage:50,";for(var c in t)s+="".concat(c,":").concat(t[c],",");for(var a in e)Array.isArray(e[a])?n+="".concat(a,":[").concat(e[a].map((function(e){return'"'.concat(e,'"')})),"],"):n+="".concat(a,":").concat(e[a],",");return"query {\n    Page(".concat(s,") {\n\n      pageInfo {\n    \t  total\n    \t  perPage\n    \t  currentPage\n    \t  lastPage\n    \t  hasNextPage\n    \t}\n\n      media(").concat(n,") {\n        id\n        title {\n          english\n          romaji\n        }\n        type\n        duration\n        averageScore\n        episodes\n        chapters\n        coverImage {\n          large\n          medium\n        }\n        description\n        endDate {\n          year\n          month\n          day\n        }\n        status\n        popularity\n        relations {\n          edges {\n            relationType\n          }\n        }\n      }\n    }\n  }")}},U=function(e){var t=Object(s.useState)(!1),n=Object(S.a)(t,2),c=n[0],a=n[1],i=Object(s.useState)(""),r=Object(S.a)(i,2),o=r[0],l=r[1];return[o,c,function(t,n){a((function(e){return!0})),fetch(t,n).then((function(e){return e.json()})).then((function(t){e(t.data)})).catch((function(e){l(e.message),console.log(e,"err")})),a(!1)}]},R=function(e){var t=Object(s.useState)([]),n=Object(S.a)(t,2),c=n[0],a=n[1],i={},r=Object(v.b)(),o=Object(s.useState)(),l=Object(S.a)(o,2),j=l[0],d=l[1],u=Object(s.useState)(),b=Object(S.a)(u,2),h=b[0],m=b[1],O=Object(v.c)((function(e){return e.auth.access_token})),x=Object(v.c)((function(e){return e.auth.email})),p=J(),f=U((function(e){var t=e.Page.media;t.map((function(e){e.progress=i["key"+e.id].progress})),d(t.filter((function(e){return"ANIME"===e.type}))),m(t.filter((function(e){return"MANGA"===e.type}))),a((function(e){return t}))})),N=Object(S.a)(f,3),_=(N[0],N[1],N[2]);return Object(s.useEffect)((function(){function e(e){var t=p({id_in:"[".concat(e,"]")});_("https://graphql.anilist.co",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:t})})}function t(){return t=Object(y.a)(Object(w.a)().mark((function t(){var n,s,c;return Object(w.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.from("User Media Connection").select().eq("user",x);case 2:n=t.sent,s=n.data,c=n.error,s&&!c&&(e(s.map((function(e){return e.anilist_id}))),s.forEach((function(e){i["key"+e.anilist_id]={anilist_id:e.anilist_id,progress:e.progress}})),r(g({showinfo:i})));case 6:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}O&&function(){t.apply(this,arguments)}()}),[O]),Object(I.jsxs)("div",{className:"dashboard",children:[Object(I.jsx)(F,{shows:c}),Object(I.jsxs)("div",{className:"info",children:[Object(I.jsx)(L,{anime:j,manga:h}),Object(I.jsx)(q,{})]})]})},H=(n(127),function(e){var t=Object(s.useRef)();return Object(I.jsxs)("form",{onSubmit:function(n){n.preventDefault();var s=t.current.value;e.showHandler(s)},children:[Object(I.jsx)("h1",{children:"Find Shows"}),Object(I.jsx)("div",{className:"form-inputs",children:Object(I.jsxs)("div",{className:"form-control",children:[Object(I.jsx)("label",{htmlFor:"main",children:"One Click Recommendations"}),Object(I.jsxs)("select",{name:"main",id:"main",ref:t,children:[Object(I.jsx)("option",{value:"new_viewer",children:"I'm New To Anime & Manga"}),Object(I.jsx)("option",{value:"underrated",children:"Looking for something underrated"}),Object(I.jsx)("option",{value:"heartwarming",children:"I want something to take my mind off the stresses of daily life"}),Object(I.jsx)("option",{value:"existential",children:"I\u2019m bored and want something that truly breaks the mold and make me ponder my existence"}),Object(I.jsx)("option",{value:"exciting",children:"I want something exciting that keeps me at the edge of my seat"}),Object(I.jsx)("option",{value:"good_recent",children:"I want to watch a good and recent show"}),Object(I.jsx)("option",{value:"cry",children:"I want something sad that allows me to have a good cry"}),Object(I.jsx)("option",{value:"school_rom",children:"I want a school romance to relax and laugh about"})]})]})}),Object(I.jsx)("button",{className:"submit-btn",children:"Get Recommendations"})]})}),$=(n(128),n(129),n(43)),Y=n.n($),W=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],G=function(e){var t,n,s=e.show;return Object(I.jsxs)("div",{className:"show-card",children:[Object(I.jsx)("img",{src:s.coverImage.large}),Object(I.jsxs)("div",{className:"show-details",children:[Object(I.jsx)("h4",{children:null!==(t=s.title.english)&&void 0!==t?t:s.title.romaji}),Object(I.jsxs)("div",{className:"mid-row",children:[Object(I.jsx)(P.a,{icon:"ANIME"===s.type?A.t:A.a,size:"1x",className:"list-icon"}),Object(I.jsxs)("span",{className:"badge",children:["Score: ",s.averageScore]}),Object(I.jsxs)("span",{className:"badge",children:["Ended: ",W[s.endDate.month-1]," ",s.endDate.year]})]}),Object(I.jsx)("p",{children:Y()(null===s||void 0===s||null===(n=s.description)||void 0===n?void 0:n.substring(0,200))+"..."})]}),Object(I.jsx)(a.b,{to:"/detail/".concat(s.id)})]})},V=function(e){var t=e.shows,n=Object(s.useState)(!1),c=Object(S.a)(n,2),a=c[0],i=c[1],r=Object(s.useState)("grid"),o=Object(S.a)(r,2),l=o[0],j=o[1],d=Object(s.useState)("All"),u=Object(S.a)(d,2),b=u[0],h=u[1];a||(t=t.filter((function(e){return!e.relations.edges.map((function(e){return e.relationType})).includes("PREQUEL")}))),"Manga"===b?t=t.filter((function(e){return"MANGA"===e.type})):"Anime"===b&&(t=t.filter((function(e){return"ANIME"===e.type})));var m,O,x=function(e){h(e.target.innerText)};return"grid"===l?(m="show-display",O=t.map((function(e){return Object(I.jsx)(z,{show:e},e.id)}))):"card"===l&&(m="show-display-card",O=t.map((function(e){return Object(I.jsx)(G,{show:e},e.id)}))),console.log(e.loading),Object(I.jsxs)("div",{className:"show-area",children:[Object(I.jsxs)("div",{className:"top-row",children:[Object(I.jsxs)("h1",{children:["Shows: ",t.length," results"]}),Object(I.jsxs)("div",{className:"tabs",children:[Object(I.jsx)("button",{onClick:x,className:"All"===b?"active":"",children:"All"}),Object(I.jsx)("button",{onClick:x,className:"Manga"===b?"active":"",children:"Manga"}),Object(I.jsx)("button",{onClick:x,className:"Anime"===b?"active":"",children:"Anime"})]})]}),Object(I.jsxs)("div",{className:"show-filter",children:[Object(I.jsxs)("div",{className:"form-control",children:[Object(I.jsx)("label",{htmlFor:"show_sequels",children:"Show Sequels"}),Object(I.jsx)("input",{type:"checkbox",name:"show_sequels",id:"show_sequels",onChange:function(e){i(e.target.checked)},value:a})]}),Object(I.jsxs)("div",{className:"btn-group",children:[Object(I.jsx)("button",{className:"icon-btn ".concat("list"===l&&"active"),id:"list",onClick:function(){j("list")},children:Object(I.jsx)(P.a,{icon:A.k,size:"1x",className:"list-icon"})}),Object(I.jsx)("button",{className:"icon-btn ".concat("grid"===l&&"active"),id:"grid",onClick:function(){j("grid")},children:Object(I.jsx)(P.a,{icon:A.h,size:"1x",className:"list-icon"})}),Object(I.jsx)("button",{className:"icon-btn ".concat("card"===l&&"active"),id:"card",onClick:function(){j("card")},children:Object(I.jsx)(P.a,{icon:A.r,size:"1x",className:"list-icon"})})]})]}),Object(I.jsx)("div",{className:m,children:e.loading?Object(I.jsxs)("div",{className:"lds-facebook",children:[Object(I.jsx)("div",{}),Object(I.jsx)("div",{}),Object(I.jsx)("div",{})]}):O}),e.morePages?Object(I.jsx)("div",{className:"see-more",children:Object(I.jsx)("button",{className:"button",onClick:function(t){e.seeMore()},children:"See More"})}):""]})},Q={new_viewer:{popularity_greater:5e4,status_in:"FINISHED",averageScore_greater:6,sort:"POPULARITY_DESC"},underrated:{popularity_lesser:3e4,status_in:"FINISHED",averageScore_greater:80,endDate_lesser:20200713,sort:"POPULARITY_DESC"},heartwarming:{popularity_lesser:1e5,genre_in:["Comedy","Slice Of Life"],genre_not_in:["Horror","Action","Drama"],status_in:"FINISHED",averageScore_greater:70,endDate_lesser:20210713,sort:"POPULARITY_DESC",format_not_in:"[OVA,MUSIC]"},existential:{popularity_lesser:2e5,genre_in:["Psychological"],genre_not_in:["Slice Of Life","Comedy"],status_in:"FINISHED",averageScore_greater:75,endDate_lesser:20210713,sort:"POPULARITY_DESC"},exciting:{popularity_lesser:2e5,genre_in:["Horror","Action"],genre_not_in:["Slice Of Life","Comedy"],status_in:"FINISHED",averageScore_greater:65,endDate_greater:20100713,sort:"POPULARITY_DESC"},good_recent:{popularity_greater:1e4,averageScore_greater:73,endDate_greater:20180713,status_in:"FINISHED",sort:"END_DATE_DESC"},cry:{popularity_lesser:15e4,genre_in:["Drama"],genre_not_in:["Sports","Action"],tag_in:["Tragedy"],tag_not_in:["Shounen","Cultivation"],averageScore_greater:75,sort:"POPULARITY_DESC",format_not_in:"[OVA,ONA,MUSIC]"},school_rom:{popularity_lesser:1e5,genre_in:["Romance"],genre_not_in:["Horror","Action","Psychological"],tag_in:["School"],tag_not_in:["Shounen","Cultivation","Tragedy"],averageScore_greater:65,sort:"POPULARITY_DESC",format_not_in:"[OVA,ONA,MUSIC]"}},B=function(e){var t=Object(s.useState)([]),n=Object(S.a)(t,2),c=n[0],a=n[1],i=Object(s.useState)(""),r=Object(S.a)(i,2),o=r[0],l=r[1],j=Object(s.useState)([1,!1]),d=Object(S.a)(j,2),u=d[0],b=d[1],h=J(),m=U((function(e){a(e.Page.media),b((function(t){return[e.Page.pageInfo.currentPage+1,e.Page.pageInfo.hasNextPage]}))})),O=Object(S.a)(m,3),x=(O[0],O[1]),g=O[2],p=U((function(e){b((function(t){return[e.Page.pageInfo.currentPage+1,e.Page.pageInfo.hasNextPage]})),a((function(t){return t.concat(e.Page.media)}))})),f=Object(S.a)(p,3),v=(f[0],f[1],f[2]);return Object(I.jsxs)("div",{className:"search",children:[Object(I.jsx)(H,{showHandler:function(e){l(e),g("https://graphql.anilist.co",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:h(Q[e])})})}}),Object(I.jsx)(V,{loading:x,shows:c,seeMore:function(){v("https://graphql.anilist.co",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:h(Q[o],{page:u[0]})})})},morePages:u[1]})]})},Z=(n(172),function(e){var t,n;return Object(I.jsxs)(s.Fragment,{children:[Object(I.jsx)("h2",{children:"Related Media"}),Object(I.jsx)("div",{className:"related-display",children:null===(t=e.related)||void 0===t||null===(n=t.nodes)||void 0===n?void 0:n.map((function(e){return Object(I.jsxs)("div",{className:"related-show",children:[Object(I.jsx)("img",{src:e.coverImage.extraLarge,alt:e.title.english},e.id),Object(I.jsx)(a.b,{to:"/detail/".concat(e.id)})]})}))})]})}),X=(n(173),function(e){var t,n=Object(v.c)((function(e){return e.show.showinfo})),s=Object(I.jsx)("div",{className:"badge",children:Object(I.jsx)("p",{children:"No Status"})});if(n["key"+e.id]){var c=n["key"+e.id].progress;s=c>e.num&&0!==e.num?Object(I.jsx)("div",{className:"badge success",children:Object(I.jsxs)("p",{children:[Object(I.jsx)(P.a,{icon:A.d,size:"1x",className:"list-icon"})," ","Completed"]})}):e.num>c&&c>0?Object(I.jsx)("div",{className:"badge watching",children:Object(I.jsxs)("p",{children:[Object(I.jsx)(P.a,{icon:A.g,size:"1x",className:"list-icon"})," ","Watching ",c,"/",e.num]})}):0===c?Object(I.jsx)("div",{className:"badge primary",children:Object(I.jsx)("p",{children:"Plan To Watch"})}):Object(I.jsx)("div",{className:"badge",children:Object(I.jsxs)("p",{children:["Progress: ",c]})})}return Object(I.jsxs)("div",{className:"user-facts",children:[Object(I.jsx)("h1",{className:"desktop-hidden",children:e.title}),Object(I.jsx)("img",{src:null===(t=e.showPic)||void 0===t?void 0:t.extraLarge,alt:e.title}),s,Object(I.jsxs)("button",{className:"favorites",children:[Object(I.jsx)(P.a,{icon:A.i,size:"1x",className:"list-icon"}),"Add To Favorites"]})]})}),K=(n(174),function(e){var t,n=e.show;return Object(I.jsxs)("div",{className:"key-facts",children:[Object(I.jsx)("h1",{className:"desktop-show",children:n.title}),Object(I.jsxs)("p",{className:"genres",children:["Genres: ",null===(t=n.genres)||void 0===t?void 0:t.join(", ")]}),Object(I.jsxs)("div",{className:"facts-badge",children:[Object(I.jsxs)("span",{className:"badge",children:[Object(I.jsx)(P.a,{icon:A.b,size:"1x",className:"list-icon"})," ",n.startDate," - ",n.endDate]}),n.chapters?Object(I.jsxs)("span",{className:"badge",children:[Object(I.jsx)(P.a,{icon:A.a,size:"1x",className:"list-icon"})," ",n.chapters," chapters"]}):"",n.episodes?Object(I.jsxs)("span",{className:"badge",children:[Object(I.jsx)(P.a,{icon:A.t,size:"1x",className:"list-icon"})," ",n.episodes," episodes"]}):"",n.duration?Object(I.jsxs)("span",{className:"badge",children:[Object(I.jsx)(P.a,{icon:A.e,size:"1x",className:"list-icon"})," ",n.duration," min/ep"]}):"",n.averageScore?Object(I.jsxs)("span",{className:"badge",children:[Object(I.jsx)(P.a,{icon:A.q,size:"1x",className:"list-icon"})," ",n.averageScore]}):""]}),Object(I.jsx)("p",{children:Y()(n.description)})]})}),ee=(n(86),function(e){return e=e.replace(/~~~(.+?)~~~/gi,"<center>$1</center>").replace(/img\d*\((.+)\)/gi,'<img src="$1" alt="" />').replace(/\[image\]\((.+?)\)/gi,'<img src="$1" alt="" />').replace(/~~(.+?)~~/gi,"<strike>$1</strike>").replace(/__(.+?)__/gi,"<strong>$1</strong>").replace(/\*\*(.+?)\*\*/gi,"<strong>$1</strong>").replace(/_(.+?)_/gi,"<em>$1</em>").replace(/\[(.*?)\]\((.+?)\)/gi,"<a href=$2 >$1</a>").replace(/#(.+)/gi,"<h2>$1</h2>").replace(/>"(.+?)"/gi,"<blockquote>$1</blockquote>")}),te=n(214),ne=n(99),se=function(e){var t=Object(s.useState)(!1),n=Object(S.a)(t,2),c=n[0],a=n[1],i=Object(s.useState)(""),r=Object(S.a)(i,2),o=(r[0],r[1],ee(e.review.body));return Object(I.jsxs)("div",{className:"review",children:[Object(I.jsxs)("div",{className:"review-top",onClick:function(){a((function(e){return!e}))},children:[Object(I.jsx)("h5",{children:e.review.summary}),c?Object(I.jsx)(P.a,{icon:A.l,size:"2x",className:"list-icon"}):Object(I.jsx)(P.a,{icon:A.n,size:"2x",className:"list-icon"})]}),c?Object(I.jsx)("div",{className:"review-body",children:Object(I.jsx)(te.a,{children:o,rehypePlugins:[ne.a]})}):""]})},ce=function(e){var t;return Object(I.jsxs)(s.Fragment,{children:[Object(I.jsx)("h2",{children:"Reviews"}),Object(I.jsx)("div",{className:"review-container",children:null===(t=e.reviews)||void 0===t?void 0:t.map((function(e){return Object(I.jsx)(se,{review:e},e.id)}))})]})},ae=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ie=function(e){var t,n,c=Object(s.useState)({}),a=Object(S.a)(c,2),i=a[0],r=a[1],o=Object(N.g)(),l=U((function(e){var t,n,s=e.Media;s.title=null!==(t=s.title.english)&&void 0!==t?t:s.title.romaji,s.startDate="".concat(ae[s.startDate.month-1]," ").concat(s.startDate.year),s.endDate="".concat(ae[(null===(n=s.endDate)||void 0===n?void 0:n.month)-1]," ").concat(s.endDate.year),r(s)})),j=Object(S.a)(l,3),d=(j[0],j[1]),u=j[2];return Object(s.useEffect)((function(){var e="{\n      \n      Media(id: ".concat(o.mediaId,") {\n        reviews {\n          edges {\n            node {\n              id\n              summary\n              rating\n              createdAt\n              body\n            }\n          }\n        }\n        ...MediaInfo\n        averageScore\n        popularity\n        relations {\n          edges {\n            relationType\n          }\n          nodes {\n            ...MediaInfo\n          }\n        }\n      }\n    }\n    \n    fragment MediaInfo on Media {\n      id\n      title {\n        english\n        romaji\n      }\n      coverImage {\n        extraLarge\n        large\n      }\n      type\n      description\n      startDate {\n        year\n        month\n        day\n      }\n      endDate {\n        year\n        month\n        day\n      }\n      episodes\n      chapters\n      duration\n      genres\n      tags {\n        name\n      }\n    }");u("https://graphql.anilist.co/",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:e})})}),[o]),Object(I.jsx)(s.Fragment,{children:d?Object(I.jsxs)("div",{className:"lds-facebook",children:[Object(I.jsx)("div",{}),Object(I.jsx)("div",{}),Object(I.jsx)("div",{})]}):Object(I.jsxs)(s.Fragment,{children:[Object(I.jsxs)("div",{className:"all-show-info",children:[Object(I.jsx)(X,{showPic:i.coverImage,title:i.title,id:i.id,num:Math.max(i.episodes,i.chapters)}),Object(I.jsxs)("div",{className:"main-details",children:[Object(I.jsx)(K,{show:i}),Object(I.jsx)(Z,{related:i.relations})]})]}),Object(I.jsx)(ce,{reviews:null===(t=i.reviews)||void 0===t||null===(n=t.edges)||void 0===n?void 0:n.map((function(e){return e.node}))})]})})},re=function(e){return Object(I.jsx)("div",{children:Object(I.jsx)("h1",{children:"Profile"})})},oe=(n(197),function(e){var t=Object(s.useRef)(),n=Object(s.useRef)(),c=Object(s.useState)(!0),i=Object(S.a)(c,2),r=i[0],o=i[1],j=Object(s.useState)(!0),d=Object(S.a)(j,2),u=d[0],b=d[1],h=Object(v.b)(),m=Object(N.f)();return Object(I.jsxs)("form",{onSubmit:function(e){e.preventDefault();var s=t.current.value,c=n.current.value,a=s.length>0,i=c.length>0;if(o(!!a),b(!!i),a&&i){var r=function(){var e=Object(y.a)(Object(w.a)().mark((function e(){var t,n,a,i;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.auth.signUp({email:s,password:c});case 2:t=e.sent,n=t.user,a=t.session,(i=t.error)?console.log(i):(h(l({user_id:n.user_id,access_token:a.access_token,email:n.email})),m("/dashboard",{replace:!0}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r()}},className:"signup-form",children:[Object(I.jsx)("h1",{children:"Sign Up"}),Object(I.jsxs)("div",{className:r?"form-control":"form-control invalid",children:[Object(I.jsx)("label",{htmlFor:"email",children:"Email"}),Object(I.jsx)("input",{ref:t,type:"email",id:"email",name:"email"})]}),Object(I.jsxs)("div",{className:u?"form-control":"form-control invalid",children:[Object(I.jsx)("label",{htmlFor:"password",children:"Password"}),Object(I.jsx)("input",{ref:n,type:"password",id:"password",name:"password"})]}),Object(I.jsxs)("div",{className:"signup-links",children:[Object(I.jsx)(a.b,{to:"/login",children:"Login"}),Object(I.jsx)(a.b,{to:"#",children:"Forgot Password"})]}),Object(I.jsx)("button",{type:"submit",className:"signup-submit",children:"Sign Up"})]})}),le=function(e){return Object(I.jsx)("div",{className:"login-page",children:Object(I.jsx)(oe,{})})},je=(n(198),n(199),function(e){var t=function(){e.setClosed()};return Object(I.jsx)("div",{className:"nav-toggle",children:Object(I.jsxs)("ul",{children:[Object(I.jsx)("li",{children:Object(I.jsxs)(a.c,{to:"/dashboard",className:function(e){return e.isActive?"activelink":void 0},onClick:t,children:[" ",Object(I.jsx)(P.a,{icon:A.j,size:"xl",className:"list-icon"}),"Dashboard"]})}),Object(I.jsx)("li",{children:Object(I.jsxs)(a.c,{to:"/search",className:function(e){return e.isActive?"activelink":void 0},onClick:t,children:[Object(I.jsx)(P.a,{icon:A.o,size:"xl",className:"list-icon"}),"Find A Show"]})}),Object(I.jsx)("li",{children:Object(I.jsxs)(a.c,{to:"/",className:function(e){return e.isActive?"activelink":void 0},onClick:t,children:[Object(I.jsx)(P.a,{icon:A.c,size:"xl",className:"list-icon"}),"My Stats"]})}),Object(I.jsx)("li",{children:Object(I.jsxs)(a.c,{to:"/profile",className:function(e){return e.isActive?"activelink":void 0},onClick:t,children:[Object(I.jsx)(P.a,{icon:A.s,size:"xl",className:"list-icon"}),"Profile"]})})]})})});function de(){var e=Object(s.useState)(!1),t=Object(S.a)(e,2),n=t[0],c=t[1],i=Object(v.c)((function(e){return e.auth.access_token})),r=Object(v.c)((function(e){return e.auth.email})),o=Object(v.b)(),l=Object(N.f)();return Object(I.jsxs)("nav",{className:"navbar",children:[i?"":Object(I.jsx)(a.b,{to:"/search",children:Object(I.jsx)(P.a,{icon:A.o,size:"2x",className:"list-icon"})}),n?Object(I.jsx)(je,{setClosed:function(){c(!1)}}):"",i?Object(I.jsx)("button",{onClick:function(){c((function(e){return!e}))},className:n?"hamburger hamburger--squeeze is-active":"hamburger hamburger--squeeze",type:"button",children:Object(I.jsx)("span",{className:"hamburger-box",children:Object(I.jsx)("span",{className:"hamburger-inner"})})}):"",Object(I.jsx)("a",{href:"#",className:"nav-brand"}),i?Object(I.jsx)("button",{className:"button nav-mobile",onClick:function(){o(j()),o(h({message:"Successfully logged out of ".concat(r," account"),status:"success"})),setTimeout((function(){o(m())}),3e3),l("/login",{replace:!0})},children:"Logout"}):Object(I.jsxs)("div",{className:"nav-buttons",children:[Object(I.jsx)(a.b,{to:"/login",className:"button nav-mobile",style:{"--local":"var(--primary-100)"},children:"Login"}),Object(I.jsx)(a.b,{to:"/sign-up",className:"button nav-mobile show-mobile",style:{"--local":"var(--danger-100)"},children:"Sign Up"})]})]})}n(200);var ue=function(e){var t=Object(v.b)(),n=e.status;return Object(I.jsxs)("div",{className:"message ".concat(n),children:[Object(I.jsx)("p",{children:e.message}),Object(I.jsx)(P.a,{icon:A.u,size:"xl",className:"list-icon",onClick:function(){t(m())}}),e.link?Object(I.jsx)(a.b,{to:e.link}):""]})};function be(){var e=Object(v.c)((function(e){return e.message.message})),t=Object(v.c)((function(e){return e.message.status})),n=Object(v.c)((function(e){return e.message.link}));return Object(I.jsxs)(s.Fragment,{children:[Object(I.jsx)(de,{}),Object(I.jsxs)("div",{className:"content",children:[e?Object(I.jsx)(ue,{message:e,status:t,link:n}):"",Object(I.jsxs)(N.c,{children:[Object(I.jsx)(N.a,{path:"/login",element:Object(I.jsx)(M,{})}),Object(I.jsx)(N.a,{path:"/dashboard",element:Object(I.jsx)(R,{})}),Object(I.jsx)(N.a,{path:"/search",element:Object(I.jsx)(B,{})}),Object(I.jsx)(N.a,{path:"/profile",element:Object(I.jsx)(re,{})}),Object(I.jsx)(N.a,{path:"/detail/:mediaId",element:Object(I.jsx)(ie,{})}),Object(I.jsx)(N.a,{path:"/sign-up",element:Object(I.jsx)(le,{})})]})]})]})}var he=document.getElementById("root");Object(c.createRoot)(he).render(Object(I.jsx)(a.a,{children:Object(I.jsx)(v.a,{store:f,children:Object(I.jsx)(be,{})})}))},41:function(e,t,n){},86:function(e,t,n){}},[[201,2,3]]]);
//# sourceMappingURL=main.cfd9d22a.chunk.js.map